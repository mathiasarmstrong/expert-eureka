{"version":3,"sources":["scripts/app-af873dac03.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_indexRoute","_muniMainController","_muniMainController2","_mapMapService","_mapMapService2","_busBusService","_busBusService2","angular","config","routerConfig","controller","service","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","$inject","Object","defineProperty","value","_classCallCheck","instance","Constructor","TypeError","_slice","Array","prototype","slice","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_MapService","undefined","_BusService","_$timeout","MainController","MapService","BusService","$timeout","_this","this","_arguments","arguments","allMuni","colors","chosenRoute","createMap","getMyLocation","getRoutes","then","getBuses","navigator","geolocation","getCurrentPosition","position","createDot","_lon","coords","longitude","_lat","latitude","_routeTag","_this2","_","each","getLocations","routeAjaxCall","buses","addBusDot","flatten","_this3","bus","_id","randomColor","_secsSinceReport","routes","map","uniq","filterDots","_$log","MapSevice","$log","width","height","scale0","muni","path","d3","geo","projection","mercator","zoom","behavior","translate","scale","scaleExtent","on","zoomed","svg","select","append","attr","g","event","json","error","sf","featureCollection","topojson","feature","objects","neighborhoods","bounds","centerX","sum","d","centerY","center","selectAll","data","arteries","features","enter","freeways","streets","dotItem","color","size","latlon","transition","duration","$","tipsy","arrowWidth","cls","offset","trigger","onShow","onHide","join","dotstoshow","allDots","dot","dotId","filter","_$http","_x2js","agencyUrl","$http","x2js","get","params","command","a","xmlRoutes","xml_str2json","body","route","log","_tag","r","v","item","isArray","compact","run","$templateCache","put"],"mappings":"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","file":"scripts/app-af873dac03.js","sourceRoot":"/source/","sourcesContent":[]}