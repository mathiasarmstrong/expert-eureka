{"version":3,"sources":["scripts/app-f290cae807.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_indexRoute","_mainMainController","_mainMainController2","_mapMapService","_mapMapService2","_busBusService","_busBusService2","angular","config","routerConfig","controller","service","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","$inject","Object","defineProperty","value","_classCallCheck","instance","Constructor","TypeError","_slice","Array","prototype","slice","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_MapService","undefined","_BusService","_$timeout","MainController","MapService","BusService","$timeout","_this","this","_arguments","arguments","muni","colors","chosenRoute","createMap","getMyLocation","getRoutes","then","getBuses","navigator","geolocation","getCurrentPosition","position","createDot","_lon","coords","longitude","_lat","latitude","_routeTag","_this2","_","each","getLocations","routeAjaxCall","buses","addBusDot","flatten","_this3","bus","_id","randomColor","_secsSinceReport","routes","map","uniq","filterDots","_$log","MapSevice","$log","width","height","scale0","path","d3","geo","projection","mercator","zoom","behavior","translate","scale","scaleExtent","on","zoomed","svg","select","append","attr","g","event","json","error","sf","featureCollection","topojson","feature","objects","neighborhoods","bounds","centerX","sum","d","centerY","center","selectAll","data","arteries","features","enter","freeways","streets","dotItem","color","size","latlon","transition","duration","$","tipsy","arrowWidth","cls","offset","trigger","onShow","onHide","join","dotstoshow","allDots","dot","dotId","filter","_$http","_x2js","agencyUrl","$http","x2js","get","params","command","a","xmlRoutes","xml_str2json","body","route","log","_tag","r","v","item","isArray","compact","run","$templateCache","put"],"mappings":"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","file":"scripts/app-f290cae807.js","sourceRoot":"/source/","sourcesContent":[]}